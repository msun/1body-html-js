<ion-view view-title="Transaction Detail">
    <ion-nav-buttons side="right">
        <button class="button button-icon ion-chatbubble"
                ng-click="goTo('#/menu/conversations/{{user.$id}}')"
                ng-show="selectedTrainer.$id != $root.user.$id"></button>
    </ion-nav-buttons>
    <ion-content class="ob-page">
        <div class="ob-content">
            <div class="ob-card">
                <img class="ob-img"
                     src="https://s3.amazonaws.com/com.onebody.profile/Users/{{user.$id | htmlEncode}}/profilepic.jpg"
                     onerror="this.src='img/emptypic-user.png'"/>
                <div class="ob-text">{{transaction.userName}}</div>
                <div class="ob-text">Amount: ${{transaction.amount || transaction.tokens * 5}}</div>
                <div class="ob-text">Start Time: {{transaction.starttime | date:'yyyy-MM-dd HH:mm:ss'}}</div>
                <div class="ob-text">Duration: {{transaction.duration * 30}} Minutes</div>
                <div class="ob-text">Address: {{transaction.address}}</div>
            </div>
            <div class="ob-card">
                <div class="ob-text">My Transactions</div>
                <div class="buttongroup2-basic">
                    <button class="buttongroup2-button" ng-click="accountingThisUser()">This User</button>
                    <button class="buttongroup2-button" ng-click="accountingThisMonth()">This Month</i></button>
                </div>
            </div>
            <leaflet ng-show="transaction.location" id="transaction-location"
                     class="ob-block-map ob-section-3"
                     layers="layers"
                     markers="markers"
                     data-tap-disabled="true"
                     center="center"
                     defaults="defaults"
                     ng-init="doMapInit()"></leaflet>
        </div>
    </ion-content>
</ion-view>
