<ion-view>
    <ion-header-bar class="ob-darkpurple-bg">
        <div class="buttons">
            <button ng-click="toggleMenu()" class="button button-icon">
                <i class="icon ion-navicon ob-white-color"></i>
            </button>
        </div>
        <h1 class="title ob-navbar-title">My Requests</h1>
        <div class="buttons">
            <button ng-click="goTo('#/menu/Mobile-Trainer-Request')" class="button button-icon">
                <i class="icon ion-plus ob-white-color ob-ionicon-medium"></i>
            </button>
        </div>
    </ion-header-bar>
    <ion-content class="has-header menu1-content">
        <div class="menu1-content-div ob-sections-vertical">
            <ion-scroll class="ob-scroll ob-section" direction="y">
                <div ng-show="requests.length <= 0" class="ob-scroll-emptytext">
                    You have made no mobile requests!<br/><br/>
                    Some trainers can travel to your location for training sessions.<br/><br/>
                    Tap the + at the top right to request a mobile trainer now!
                </div>
                <a class="ob-scroll-row" ng-repeat="item in requests | orderBy: '-created'" href="#/menu/Trainers/{{item.trainerID}}">
                    <div class="ob-scroll-col-img">
                        <img class="ob-scroll-img" src="https://s3.amazonaws.com/com.onebody.profile/Users/{{item.trainerID | htmlEncode}}/profilepic.jpg"
                             ng-click="window.location.href = '#/menu/{{item.group}}/{{item.$id}}'"/>
                    </div>
                    <div class="ob-scroll-col-flex">
                        <div ng-click="showOnMap(item)">
                            <div class="ob-scroll-demi">{{item.username}}{{item.name}}{{item.trainer}}</div>
                            <div class="ob-scroll-text">Start Time: {{item.starttime | date:'yyyy-MM-dd HH:mm:ss'}}</div>
                        </div>
                        <div>
                            <div class="ob-scroll-text-demi" ng-show="item.expired && !item.trainerAccecpted">Expired</div>
                            <div class="ob-scroll-text-demi" ng-show="item.trainerAccecpted">Accepted</div>
                            <div class="ob-scroll-text-demi" ng-hide="item.trainerAccecpted || item.expired">Waiting...</div>
                        </div>
                    </div>
                </a>
            </ion-scroll>
        </div>
    </ion-content>
</ion-view>
