<ion-view>
    <ion-header-bar class="ob-darkpurple-bg">
        <div class="buttons">
            <button ng-click="toggleMenu()" class="button button-icon">
                <i class="icon ion-navicon ob-white-color"></i>
            </button>
        </div>
        <h1 class="title ob-navbar-title">Requests Inbox</h1>
    </ion-header-bar>
    <ion-content class="has-header menu1-content">
        <div class="menu1-content-div">
            <ion-scroll class="ob-scroll" direction="y">
                <div ng-show="requests.length <= 0" class="ob-scroll-emptytext">
                    You have no mobile requests at the moment
                </div>
                <div class="ob-scroll-row" ng-repeat="item in requests | orderBy: '-created'">
                    <div class="ob-scroll-col-img">
                        <img class="ob-scroll-img" src="https://s3.amazonaws.com/com.onebody.profile/Users/{{item.userID | htmlEncode}}/profilepic.jpg"
                             ng-click="window.location.href = '#/menu/{{item.group}}/{{item.$id}}'"/>
                    </div>
                    <div class="ob-scroll-col-flex">
                        <div ng-click="showOnMap(item)">
                            <div class="ob-scroll-text">From: <span class="ob-scroll-text-demi">{{item.userName}}{{item.name}}</span></div>
                            <div class="ob-scroll-text">Start Time: {{item.starttime | date:'yyyy-MM-dd HH:mm:ss'}}</div>
                            <div class="ob-scroll-message">{{item.message}}</div>
                        </div>
                        <div>
                            <button ng-hide="item.trainerAccecpted || item.expired" class="ob-button ob-button-blue ob-margins0" ng-click="acceptRequest(item)">Accept</button>
                            <span class="ob-scroll-text-demi" ng-show="item.expired && !item.trainerAccecpted">Expired</span>
                            <span class="ob-scroll-text-demi" ng-show="item.trainerAccecpted">Accepted</span>
                        </div>
                    </div>
                </div>
            </ion-scroll>
            <div id="request-location" class="ob-block-map" data-tap-disabled="true"></div>
        </div>
    </ion-content>
</ion-view>
